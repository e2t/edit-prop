# Лог изменений

[//]: # (YYYY-MM-DD)
[//]: # (Added, Changed, Deprecated, Removed, Fixed, Security)
[//]: # (Добавлено, Изменения, Устарело, Удалено, Исправлено, Безопасность)

## [2.17.0] 2022-10-01

### Изменения

- При клике по метке "Файл чертежа" поле "Наименование" заполняется из имени модели, а наименования на других языках - из имени чертежа.
- При клике по метке "Обозначение" поле "Наименование" заполняется из имени чертежа, а наименования на других языках не заполняются.

## [2.16.0] 2022-08-15

### Изменения

- Наименования на языках, отличных от русского, объединены в выпадающий список вместо отдельных полей.
- При разделении имени чертежа на обозначение и наименование (по клику на метку "Файл чертежа") макрос игнорирует последние скобки в наименовании файла. Например, "MDQ.001.1234 Detail (US)" будет разделено на обозначение "MDQ.001.1234" и наименование "Detail", а суффикс "(US)" отбрасывается.
- Свойство "Масса" теперь всегда принадлежит конфигурации, не бывает общим.

### Добавлено

- Новое свойство "Наименование LT" (литовский).
- Новое свойство "Масса LBS" неявно устанавливается в зависимости от основного свойства "Масса", которое теперь должно быть всегда в килограммах.

### Удалено

- Удалено свойство "Формат" (для спецификации). В обновленных шаблонах спецификаций эта колонка отсутствует.

## [2.15.0] 2022-05-07

### Добавлено

- Добавлена возможность закрытия макроса после сохранения свойств. Управляется в файле Settings.ini ключом ApplyAndExit (True для закрытия). Надпись на кнопке "Применить" в этом случае меняется на "ОК".

### Удалено

- Удалена возможность закрытия текущего документа при клике по кнопке "Закрыть", удерживая клавишу Shift.

## [2.14.1] 2021-02-22

### Исправлено

- Исправлена ошибка, приводившая к отображению на всех листах многостраничного чертежа одного и того же формата в основной надписи (например, если на первом листе был установлен формат А1, а затем на втором листе - формат А2, то в основной надписи первого листа также прописывалось «А2» вопреки фактическому размеру). Обновлены все основные надписи.

### Изменения

- Если макрос запускается на последующих листах, поле «Формат в СП» будет неактивно.
- Теперь необязательно помещать на последующие листы виды с моделью (но по-прежнему обязательно для первого листа). При запуске на последующих листах, не найдя видов, макрос ссылаеся на первый вид первого листа.

## [2.14.0] 2021-02-04

### Добавлено

- Добавлены американские форматы бумаги: ANSI A, B, C, D, E.

### Изменения

- Полностью переработаны основные надписи первых и вторых листов по стандарту ANSI (Eng-EU).
- Если длина наименования превышает 60 символов, поле окрашивается желтым.
- Технические изменения во всех основных надписях, связанные с обозначением формата бумаги в штампе.
- Кнопка Применить закрывает окно макроса, если удерживать клавишу Shift.

## [2.13.0] 2021-11-01

### Добавлено

- Если на любом из видов или листов чертежа используется нестандартный масштаб, появляется уведомление.

### Изменения

- Переработано управление размером чертежного листа. Специально подготовленную основную надпись макрос может растягивать до выбранных размеров без потери пользовательских изменений внутри основной надписи.
- Улучшено автоматическое присвоение Обозначения и Наименования по клику. Если название конфигурации содержит пробел, к обозначению будет добавлена только его первая часть до первого пробела (например, "01 откр." добавит к обозначению "01").

### Исправлено

- Если в конфигурации было установлено пустое свойство, макрос вместо него отображал общее свойство, что неверно.

## [2.12.1] 2021-06-16

### Исправлено

- При клике на метку "Файл чертежа" неправильно определялся код документа.

### Изменения

- При выборе пустого кода документа в поле справа появляется надпись "Деталь" (при этом поле становится неактивным).

## [2.12.0] 2021-06-07

### Изменения

- Тип документа теперь выбирается пользователем из списка значений, соответствующих данному коду документа. Например, СБ может быть "Сборочный чертеж" или "Складальний кресленик".
- Поле "Код чертежа" перенесено под поле "Обозначение".

## [2.11.0] 2021-04-18

### Добавлено

- Добавлена возможность отметить деталь как крепеж.

### Удалено

- Удалена возможность обновлять чертежный стандарт.

### Изменения

- Улучшена производительность при переключении конфигураций и запуске программы.

## [2.10.2] 2021-04-02

### Исправлено

- Макрос уничтожал несохраненные данные при переключении конфигураций.

## [2.10.1] 2021-03-22

### Исправлено

- При переключении конфигурации в полях EN, PL, UA не обновлялось содержимое.
- В поле "Наименование" иногда не отображалось свойство.

## [2.10.0] 2021-01-25

### Добавлено

- Добавлено поле "Проверил" (свойство чертежа).

## [2.9.0] 2021-01-25

### Изменения

- Улучшено разделение имени чертежа на обозначение и наименование. Теперь обозначение сразу подставляется с исполнением (вместо отдельного клика раньше).
- Висячие пробелы в начале и конце свойств теперь обрезаются.

### Добавлено

- Добавлены поля для наименований на польском, английском и украинском языках. Нужны только для компонентов монтажных чертежей на иностранном языке, чтобы в спецификации наименование отображалось на иностранном языке, но в КД оставалось на русском. Требует специального шаблона спецификации.

## [2.8.6] 2020-01-29

### Исправлено

- Исправлена старая ошибка, из-за которой чертежные свойства (Начертил, Утвердил и т.д.) создавались также и в модели.

### Удалено

- Удалено за ненадобностью свойство модели Изменение.

## [2.8.5] 2020-01-21

### Исправлено

- Ошибка в создании "Базового обозначения" на чертеже.

## [2.8.4] 2020-01-19

### Изменения

- После нажатия кнопки "Применить" в чертеже создается свойство "Базовое обозначение" (не содержит исполнения), которое можно вставлять в основную надпись. Базовое обозначение создается из обозначения основного вида. Например, если в основном виде изображена модель "РКЭ-01.01.001-1500", то базовым обозначением будет "РКЭ-01.01.001".

## [2.8.3] 2020-01-14

### Исправлено

- Если модель открыта только для чтения, программа попытается получить доступ для записи перед установкой свойств.
- Исправлено падение программы при наличии "свободных" конфигураций.
- Тип линий сгиба устанавливается в соответствие с ЕСКД: штрихпунктирная линия с двумя точками, ранее была осевая.

## [2.8.2] 2019-03-26

### Исправлено

- Неправильное разделение названия чертежа или модели на обозначение и наименование, если название начинается с цифры. Например, "0054.1 ЗЩПЭ 1,4х2,4(1,1)-00.00.000 СБ Затвор щитовой" разделялось на "0054.1" (обозначение) и "ЗЩПЭ 1,4х2,4(1,1)-00.00.000 СБ Затвор щитовой" (наименование). Новый алгоритм разделения основан на предположении, что точки присутствуют только в обозначении, но не в наименовании.

## [2.8.1] 2018-12-06

### Изменения

- Увеличена длина поля "Обозначение".

### Исправлено

- Иногда макрос не обнаруживал уравнение "Толщина" или "Thickness" из-за неправильной кодировки.
- Возможность обновлять настройки чертежа (так называемый "Чертежный стандарт"), раньше осуществляемая автоматически и случайно отключенная в предыдущих версиях, возвращена и сделана опциональной (переключатель в нижней части формы).

## [2.8.0] 2018-11-07

### Добавлено

- Горизонтальный скролл для списка конфигураций.
- Клик по меткам "Длина" и "Ширина" очищает соответствующие поля.

### Изменения

- Изменен стиль текстовых полей.
- Увеличена длина пола "Наименование".
- Простая замена основной надписи заменена на полную перезагрузку основной надписи (актуально при изменении формата листа на точно такой же).

## [2.7.1] 2017-06-13

### Исправлено

- Ошибка при подстановке обозначения и наименования при клике по соответствующим меткам в случае, когда название файла содержит только обозначение.


## [2.7.0] 2017-04-26

### Изменения

- Соответствие между полными названиями типов документов и их короткими аббревиатурами (СБ - Сборочный чертеж, МЧ - Монтажный чертеж и т.д.) теперь не устанавливается автоматически, а читается из файла настроек. Для этого секция "Пометка" должна быть приведена примерно к следующему виду:

 ```
[Пометка]
СБ=Сборочный чертеж;МЧ=Монтажный чертеж;ВО=Чертеж общего вида;СП=Спецификация;ГЧ=Габаритный чертеж;УЧ=Упаковочный чертеж;ТЧ=Теоретический чертеж;МЭ=Электромонтажный чертеж;ПЭ=Перечень элементов;ПЗ=Пояснительная записка;ТБ=Таблица;РР=Расчет;И=Инструкция;ТУ=Технические условия;ПМ=Программа и методика испытаний;ВС=Ведомость спецификаций;ВД=Ведомость ссылочных документов;ВП=Ведомость покупных изделий;ВИ=Ведомость разрешения применения покупных изделий;ДП=Ведомость держателей подлинников;ПТ=Ведомость технического предложения;ЭП=Ведомость эскизного проекта;ТП=Ведомость технического проекта;ВДЭ=Ведомость электронных документов
```
Это позволяет добавлять произвольные типы документов, например, на другом языке (AD - Assembly drawing).


## [2.6.0] 2016-11-23

### Добавлено

- Возможность связать все конфигурации с общим свойством (Shift + клик по отмеченному чекбоксу).

## [2.5.0] 2016-09-14

### Добавлено

- Возможность редактировать свойства выделенного компонента сборки.

## [2.4.0] 2016-06-13

### Добавлено

- В форме отображается количество конфигураций.

## [2.3.0] 2016-05-26

### Добавлено

- Клик по надписи "Обозначение" добавляет название конфигурации в конец поля.

## [2.2.0] 2016-04-04

### Добавлено

- Автоматическое определение названия толщины листового металла в детали. Вместо пунктов ``Толщина@...`` и ``Thickness@...`` в списке "Типоразмер" используется автоматически определенное название или пустое поле, если его определить не удалось. Польское название "Grubosc" в поиск добавить не удалось: в коде невозможно напечатать диакритические знаки.

## [2.1.0] 2016-03-31

### Добавлено

- Постоянная связь между объектами на чертеже и изображающими их типами линий (см. Параметры - Свойства документа - Стиль линии):
 * Видимые контуры - основная сплошная
 * Невидимые контуры - тонкая штриховая
 * Кривые эскиза - тонкая сплошная
 * Вспомогательные кривые - тонкая штрихпунктирная
 * Штриховка/Заполнить - тонкая сплошная
 * Линии перехода - тонкая штрихпунктирная
 * Условное изображение резьбы - тонкая сплошная
 * Линии перехода невидимые - тонкая штриховая
 * Линии для разнесения - утолщенная тонкая/толстая
 * Линии разрыва - тонкая сплошная
 * Видимые кромки (SpeedPak) - основная сплошная
 * Соприкасающийся компонент - тонкая осевая
 * Изгиб вверх, развертка - тонкая осевая
 * Изгиб вниз, развертка - тонкая осевая
 * Компоненты конверта - тонкая сплошная
